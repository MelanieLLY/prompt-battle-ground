# Reflection: What Makes a Great Prompt?

I did all three challenges (email validation, React table with sort/filter/pagination, and the cache with TTL and LRU) and kept improving my prompts from v1 to v3. Here is what I learned.

**Say exactly what you want; do not leave it vague.** When I first wrote the email prompt, I just said something like "validate emails with a regex and add some tests." I ran 16 test cases and only 9 passed. So in v2 I wrote a clear list: "Must accept" (e.g. plus addressing, subdomains) and "Must reject" (e.g. consecutive dots, TLD too short). The results got much better. The same idea helped in the other two: if I wrote the data model first (e.g. the `Employee` type) and listed the rules step by step, the code came out right more often. For the cache I also used tags like `<context>`, `<task>`, `<rules>` so the model could tell goals from rules from UI.

**Spell out how things connect and how you will check them.** In the table challenge, my first versions did not say "the table gets its data from props," so the table was not reusable. When I wrote "reusable table component that receives data via props" in v3, I got a component I could reuse. The order of steps matters too. I put my test cases in a separate file (like `test-doc.md`) and told the model to cover everything in that file. That gave me way better coverage than a few examples in the prompt. A small debug panel or event log made it easy to see what was going on.

**Use what went wrong to improve the next prompt.** In the email challenge, the cases that failed in v1 (e.g. consecutive dots, TLD too short, the `#` character) became the "Must reject" list in v2. Then v2 still failed on something like `customer-service@store.online` because I had not said "hyphen in the local part is OK." So in v3 I added that and things like long TLDs. All 16 cases passed after that. When I cared that the code was correct and also safe and easy to change later, I found that writing down *how* to do it in the prompt helped. For example, for the email validator I asked for "avoid catastrophic backtracking" and "build the regex from named pieces (like LOCAL_PART, TLD)." The v3 code ended up with small, readable regex pieces. For the cache I asked for Map for LRU order, setInterval to refresh the UI, and Date.now() as the only time source. That fixed v1 and v2.

**In short:** A good prompt (1) lists what is allowed and what is not and uses a clear structure; (2) says how things connect and in what order they run, and makes it easy to check with a test file and a debug or event log; (3) turns real failures into rules for the next version, and when it matters, writes down how to implement it. I put this into `my_prompt_template.md` for future prompts.
